{
	"WordPress | Force updates and upgrades": {
		"prefix": "wptupd",
		"body": [
			"defined('ABSPATH') or die('Bye bye!');",
			"add_filter('auto_update_core', '__return_true');",
			"add_filter('auto_update_plugin', '__return_true');",
			"add_filter('auto_update_theme', '__return_true');",
			"add_filter('auto_update_translation', '__return_true');",
			"add_filter('auto_core_update_send_email', '__return_true');"
		],
		"description": "WordPress | Force updates and upgrades"
	},
	"WordPress | Adds an action with function ": {
		"prefix": "wpaac",
		"body": [
			"function cmk_${2:function}() {",
			"\t",
			"}",
			"add_action( '${1:action}', 'cmk_${2:function}' );"
		]
	},
	"WordPress | Muestra título entrada con Permalink": {
		"prefix": "wpstit",
		"body": [
		  "<h2 class=\"entry-title\">",
		  "\t<a href=\"<?php the_permalink(); ?>\" rel=\"bookmark\" title=\"<?php the_title_attribute();?>\"><?php the_title(); ?></a>",
		  "</h2>"
		]
	},
	"WordPress | Muestra Términos de una taxonomía de actual entrada": {
		"prefix": "wpstrtax",
		"body": [
		  "//* Shows taxonomy",
		  "//Do something if a specific array value exists within a post",
		  "\\$term_list = wp_get_post_terms( get_the_id(), '${1:taxonomy}', array(\"fields\" => \"all\"));",
		  "\\$html = '<p class=\"taxonomy-${1:taxonomy}\">';",
		  "foreach(\\$term_list as \\$term_single) {",
		  "\t\\$html .= '<a href=\"'.get_term_link(\\$term_single).'\">'.\\$term_single->name.'</a>';",
		  "}",
		  "\\$html .= '</p>';",
		  "echo \\$html;"
		]
	},
	"WordPress | Muestra valor meta": {
		"prefix": "wpsgmt",
		"body": [
		  "$${1:variable} = get_post_meta(get_the_id(),'${1:variable}',true);",
		  "if($${1:variable}) {",
		  "\techo $${1:variable};",
		  "}//if meta"
		],
		"description": "WordPress | Muestra valor meta"
	},
	"WordPress | Registra una taxonomía": {
		"prefix": "wpatax",
		"body": [
		  "/**",
		  " * Register Taxonomy ${1:name taxonomy plural}",
		  " *",
		  " */",
		  "add_action( 'init', 'cmk_register_tax_${3:name taxonomy}', 0 );",
		  "function cmk_register_tax_${3:name taxonomy}() {",
		  "",
		  "\\$labels = array(",
		  "\t'name' => '${1:name taxonomy plural}',",
		  "\t'singular_name' => '${2:Taxonomy Name Singular}',",
		  "\t'search_items' =>  'Buscar ${2:Taxonomy Name Singular}',",
		  "\t'all_items' => 'Todos los ${1:name taxonomy plural}',",
		  "\t'edit_item' => 'Editar ${2:Taxonomy Name Singular}',",
		  "\t'update_item' => 'Actualizar ${2:Taxonomy Name Singular}',",
		  "\t'add_new_item' => 'Añadir nuevo ${2:Taxonomy Name Singular}',",
		  "\t'new_item_name' => 'Nuevo ${2:Taxonomy Name Singular}',",
		  ");",
		  "",
		  "register_taxonomy( '${3:name taxonomy}', array( '${4:post-type}' ), array(",
		  "\t'hierarchical' => true,",
		  "\t'labels' => \\$labels,",
		  "\t'show_ui' => true,",
		  "\t'show_admin_column' => true,",
		  "\t'query_var' => true,",
		  "\t'rewrite' => array( 'slug' => '${5:slug taxonomy}' ),",
		  "));",
		  "}"
		]
	},
	"WordPress | Crea un widget": {
		"prefix": "wpawid",
		"body": [
			"/*",
			"Widget Name: ${1:Nombre Widget}",
			"Description: ${2:Descripción Widget}.",
			"Author: davidperez",
			"Author URI: https://www.closemarketing.es",
			"*/",
			"function widget_${3:slug}() {",
			"\tregister_widget( 'widget_${3:slug}' );",
			"}",
			"add_action( 'widgets_init', 'widget_${3:slug}' );",
			"",
			"class widget_${3:slug} extends WP_Widget {",
			"",
			"\t// CONSTRUCT WIDGET",
			"\tfunction __construct() {",
			"\t\t\\$widget_ops = array(",
			"\t\t\t'classname'\t => 'widget_${3:slug}',",
			"\t\t\t'description' => '${2:Descripción Widget}',",
			"\t\t\t'panels_icon' => 'dashicons dashicons-layout',",
			"\t\t);",
			"\t\tparent::__construct( 'widget_${3:slug}', '${1:Nombre Widget}', \\$widget_ops );",
			"\t}",
			"",
			"\t// CREATE WIDGET FORM (WORDPRESS DASHBOARD)",
			"  function form(\\$instance) {",
			"\tglobal \\$wpdb;",
			"",
			"\t// Check values",
			"\tif(isset(\\$instance['title']) ) \\$title = apply_filters('widget_title', \\$instance['title']); else \\$title = '';",
			"\tif(isset(\\$instance['field_var']) ) \\$field_var = \\$instance['field_var']; else \\$field_var = '';",
			"\tif(isset(\\$instance['textarea_op']) ) \\$textarea_op = \\$instance['textarea_op']; else \\$textarea_op = '';",
			"\tif(isset(\\$instance['checkbox']) ) \\$checkbox = \\$instance['checkbox']; else \\$checkbox = '';",
			"\tif(isset(\\$instance['select_option']) ) \\$select_option = \\$instance['select_option']; else \\$select_option = '';",
			"\tif(isset(\\$instance['select_page']) ) \\$select_page = \\$instance['select_page']; else \\$select_page = '';",
			"\t?>",
			"",
			"\t<p>",
			"\t\t<label for=\"<?php echo \\$this->get_field_id('title'); ?>\"><?php _e('Widget Title', 'cmk'); ?></label>",
			"\t\t<input id=\"<?php echo \\$this->get_field_id('title'); ?>\" name=\"<?php echo \\$this->get_field_name('title'); ?>\" type=\"text\" value=\"<?php echo \\$title; ?>\" style=\"width:100%\"/>",
			"\t</p>",
			"",
			"\t<p>",
			"\t\t<label for=\"<?php echo \\$this->get_field_id('field_var'); ?>\"><?php _e('Text:', 'cmk'); ?></label>",
			"\t\t<input id=\"<?php echo \\$this->get_field_id('field_var'); ?>\" name=\"<?php echo \\$this->get_field_name('field_var'); ?>\" type=\"text\" value=\"<?php echo \\$field_var; ?>\"style=\"width:100%\"/>",
			"\t</p>",
			"",
			"\t<p>",
			"\t\t<label for=\"<?php echo \\$this->get_field_id('textarea_op'); ?>\"><?php _e('Textarea:', 'cmk'); ?></label>",
			"\t\t<textarea id=\"<?php echo \\$this->get_field_id('textarea_op'); ?>\" name=\"<?php echo \\$this->get_field_name('textarea_op'); ?>\" style=\"width:100%\"><?php echo \\$textarea_op; ?></textarea>",
			"\t</p>",
			"",
			"\t<p>",
			"\t\t<input id=\"<?php echo \\$this->get_field_id('checkbox'); ?>\" name=\"<?php echo \\$this->get_field_name('checkbox'); ?>\" type=\"checkbox\" value=\"1\" <?php checked( '1', \\$checkbox ); ?> />",
			"\t\t<label for=\"<?php echo \\$this->get_field_id('checkbox'); ?>\"><?php _e('Checkbox', 'cmk'); ?></label>",
			"\t</p>",
			"",
			"\t<p>",
			"\t<label for=\"<?php echo \\$this->get_field_id('select_option'); ?>\"><?php _e('Select', 'cmk'); ?></label>",
			"\t\t<select name=\"<?php echo \\$this->get_field_name('select_option'); ?>\" id=\"<?php echo \\$this->get_field_id('select_option'); ?>\" class=\"widefat\" style=\"width:100%\">",
			"\t\t<?php",
			"\t\t\\$options = array(",
			"\t\t\t\t\t\t'key1' => __('Value 1', 'cmk'), ",
			"\t\t\t\t\t\t'key2' => __('Value 2', 'cmk'), ",
			"\t\t\t\t\t\t'key3' => __('Value 3', 'cmk')",
			"\t\t\t);",
			"\t\tforeach (\\$options as \\$key => \\$option) {",
			"\t\techo '<option value=\"' . \\$key . '\" id=\"' . \\$key . '\"', \\$select_option == \\$key ? ' selected=\"selected\"' : '', '>', \\$option, '</option>';",
			"\t\t}",
			"\t\t?>",
			"\t\t</select>",
			"\t</p>",
			"  <?php",
			"  }",
			"",
			"  // UPDATE WIDGET",
			"\tfunction update( \\$new_instance, \\$old_instance ) {",
			"",
			"\t\t\\$instance = \\$old_instance;",
			"\t\t// Fields",
			"\t\t\\$instance['title'] = strip_tags(\\$new_instance['title']);",
			"\t\t\\$instance['field_var'] = strip_tags(\\$new_instance['field_var']);",
			"\t\t\\$instance['textarea_op'] = strip_tags(\\$new_instance['textarea_op']);",
			"\t\t\\$instance['checkbox'] = strip_tags(\\$new_instance['checkbox']);",
			"\t\t\\$instance['select_option'] = strip_tags(\\$new_instance['select_option']);",
			"\t\t\\$instance['select_page'] = strip_tags(\\$new_instance['select_page']);",
			"\t\treturn \\$instance;",
			"",
			"\t}",
			"",
			"\t// DISPLAY WIDGET ON FRONT END",
			"\tfunction widget( \\$args, \\$instance ) {",
			"",
			"\t\textract( \\$args );",
			"\t\t// Widget starts to print information",
			"\t\techo \\$before_widget;",
			"",
			"\t\tif(isset(\\$instance['title']) ) \\$title = apply_filters('widget_title', \\$instance['title']); else \\$title = '';",
			"\t\tif(isset(\\$instance['field_var']) ) \\$field_var = \\$instance['field_var']; else \\$field_var = '';",
			"\t\tif(isset(\\$instance['textarea_op']) ) \\$textarea_op = \\$instance['textarea_op']; else \\$textarea_op = '';",
			"\t\tif(isset(\\$instance['checkbox']) ) \\$checkbox = \\$instance['checkbox']; else \\$checkbox = '';",
			"\t\tif(isset(\\$instance['select_option']) ) \\$select_option = \\$instance['select_option']; else \\$select_option = '';",
			"\t\tif(isset(\\$instance['select_page']) ) \\$select_page = \\$instance['select_page']; else \\$select_page = '';",
			"\t\t?>",
			"",
			"\t\t<h3 class=\"widget-title\"><?php echo \\$title; ?></h3>",
			"",
			"\t\t<?php",
			"\t\t// Widget ends printing information",
			"\t\techo \\$after_widget;",
			"\t}",
			"",
			"} //class widget"
		]
	}
}